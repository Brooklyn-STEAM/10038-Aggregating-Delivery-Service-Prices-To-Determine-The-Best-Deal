{% extends 'templates.jinja' %}
{% block contents %}

<script>
function checkpass(new_password) {
    // Pass checker
    var specialCharRegex = /^[a-zA-Z0-9_]+$/;

   
    if (specialCharRegex.test(new_password)) {
        return true; // Return true if the password contains only valid characters
    } else { 
        return false; // Return false if the password contains any special characters other than _
    }
}
function validPass() {
    var new_password = document.getElementById("new_password").value;

    if (!checkpass(new_password)) {
        alert("Password can't contain special characters except '_'");
        return false; // Return false to stop the form submission
    } 
    // Continue form submission if the password is valid
    return true;
}
</script>

<main class="container">
    <br>
    <div class="log_intro">
        <h3>Sign Up!</h3>
    </div>
    <div class="log_box">
        <form onsubmit="return validPass()" method="post">
            <label for="new_username">Enter your username</label><br>
            <input type="text" name="new_username" placeholder="Username">
            <br><br>
            <label for="new_email">Enter your email</label><br>
            <input type="email" name="new_email" placeholder="Email">
            <br><br>
            <label for="new_password">Enter your password</label><br>
            <input type="password" id='new_password' name="new_password" placeholder="Password" required>
            <br><br>
            <input type="submit">
        </form>
        <br>
        <p>Already have an account? <a href= '/login'>Login here!</a></p>
    </div>
</main>



{% endblock %}